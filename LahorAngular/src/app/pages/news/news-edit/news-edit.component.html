<nav class="page-breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item">
      <a routerLink="/news">{{ "NEW.TITLE" | translate }}</a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">
      {{ "NEW.EDIT.NEW_TITLE" | translate }}
    </li>
  </ol>
</nav>
<div class="row" *ngIf="form != null">
  <div class="col-md-12 stretch-card">
    <div class="card">
      <div class="card-body">
        <h6 class="card-title">
          {{ "NEW.EDIT.NEW_TITLE" | translate }}
        </h6>
        <form [formGroup]="form">
          <div class="row"></div>
          <div class="row" style="justify-content: space-between">
            <div class="col-sm-8">
              <div class="mb-3">
                <div class="form-check form-switch">
                  <input
                    type="checkbox"
                    class="form-check-input"
                    id="publicNewSwitch"
                    (change)="onChanged($event)"
                    formControlName="public"
                  />
                  <label
                    class="form-check-label font-bold"
                    for="publicNewSwitch"
                    >{{ "NEW.PUBLIC" | translate }}</label
                  >
                </div>
              </div>
              <div class="mb-3">
                <label for="inputForNewName" class="form-label font-bold">{{
                  "NEW.NAME" | translate
                }}</label>
                <span class="warning">*</span>
                <input
                  id="inputForNewName"
                  class="form-control"
                  type="text"
                  placeholder="{{ 'NEW.ENTER_NAME' | translate }}"
                  formControlName="name"
                  [ngClass]="{
                    'is-invalid':
                      name?.invalid && (name?.dirty || name?.touched)
                  }"
                />
                <div
                  *ngIf="name?.invalid && (name?.dirty || name?.touched)"
                  class="invalid-feedback"
                >
                  <div *ngIf="name?.errors?.['required']">
                    {{ "NEW.VALIDATORS.NAME" | translate }}
                  </div>
                </div>
              </div>
              <div class="mb-3">
                <label class="form-label font-bold" for="text">{{
                  "NEW.TEXT" | translate
                }}</label>
                <span class="warning">*</span>
                <textarea
                  class="form-control"
                  name="text"
                  id="newText"
                  placeholder="{{ 'NEW.ENTER_TEXT' | translate }}"
                  style="width: 100%"
                  rows="12"
                  formControlName="text"
                  [ngClass]="{
                    'is-invalid':
                      text?.invalid && (text?.dirty || text?.touched)
                  }"
                >
                </textarea>
                <div
                  *ngIf="text?.invalid && (text?.dirty || text?.touched)"
                  class="invalid-feedback"
                >
                  <div *ngIf="text?.errors?.['required']">
                    {{ "NEW.VALIDATORS.NAME" | translate }}
                  </div>
                </div>
              </div>
            </div>
            <!-- Col -->
            <div class="col-sm-4" style="margin-right: 0px">
              <div class="mb-3">
                <label class="form-label font-bold" for="file">{{
                  "NEW.IMAGE" | translate
                }}</label>
                <input
                  class="form-control"
                  type="file"
                  id="file"
                  #file
                  (change)="onFileSelected($event)"
                  formControlName="file"
                  style="display: none"
                />
                <img
                  [src]="imgUrl"
                  style="
                    border-radius: 5px;
                    width: 100%;
                    height: 390px;
                    aspect-ratio: 1/1;
                  "
                />
                <button
                  type="button"
                  class="btn btn-success"
                  (click)="file.click()"
                  style="margin-top: 10px; width: 100%"
                >
                  {{ "SHARED.CHANGE_IMAGE" | translate }}
                </button>
              </div>
            </div>
          </div>
        </form>
        <button
          type="submit"
          (click)="updateNew()"
          class="btn btn-primary submit"
          [disabled]="form.invalid"
        >
          {{ "NEW.EDIT.EDIT_NEW" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
